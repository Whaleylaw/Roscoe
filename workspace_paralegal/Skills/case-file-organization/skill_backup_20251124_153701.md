---
name: case-file-organization
description: Use when organizing disorganized case files, standardizing filenames, or categorizing documents into proper folders - applies 8-bucket system with standardized naming convention for personal injury case files and delegates work to sub-agents
---

# Case File Organization

**IMPORTANT: Before proceeding with this skill, you MUST announce to the user that you are using the "Case File Organization" skill.**

Example announcement: "I'm activating the Case File Organization skill to standardize and organize these case files according to the 8-bucket system."

## Overview

Standardizes organization, naming, and categorization of personal injury case files using an 8-bucket directory system and strict naming conventions. This skill ensures consistency, facilitates retrieval, and optimizes the file system.

**Core principle:** Every case file belongs in one of 8 buckets. Every filename follows the same pattern. Use sub-agents for execution.

## When to Use

Use this skill when:
- Case files are disorganized or in the root folder
- Filenames don't follow a standard pattern
- Files need categorization into proper subdirectories
- Preparing files for vector database integration
- Client asks for file organization or cleanup

When NOT to use:
- Files are already properly organized and named
- Non-case files (internal firm documents, templates)
- Active documents being edited

## Directory Structure (The 8 Buckets)

Every case folder MUST contain exactly these 8 subdirectories:

```
/storage/{Case-Name}/
├── Case Information/       # Case summary, metadata (NO documents stored here)
├── Client/                 # Intake, contracts, firm-client communication
├── Investigation/          # Hard evidence, photos, police reports
├── Medical Records/        # Clinical notes, bills, provider docs
├── Insurance/              # Carrier correspondence, dec pages, EOBs
├── Lien/                   # Lien notices, correspondence, resolutions
├── Expenses/               # Case costs, expert fees, filing fees
├── Negotiation Settlement/ # Demands, offers, settlement docs, releases
└── Litigation/             # Court filings, pleadings, discovery
```

**Rule:** Files should NEVER sit in the root case folder.

## Categorization Rules

### Case Information
**What belongs:** Case metadata and summaries ONLY - NO original documents
- Case summary documents
- Client information sheets (for reference)
- Case timelines/chronologies
- **IMPORTANT:** This is a reference folder only
- **NO original documents** should be stored here
- If a document is an original intake form or contract, it goes in Client/

### Client
**What belongs:** All firm-client interactions, intake, and contractual documents
- **Intake Documents** (applications, questionnaires, verification forms)
- **Contracts/Fee Agreements** with client
- **HIPAA Authorizations** (General/Blank)
- **Correspondence to/from Client** (Emails, Letters)
- **Client-generated documents**
- **Internal firm communications** about the client
- **NOT:** Documents sent to third parties (those go in their respective folders)

### Investigation
**What belongs:** Hard evidence and objective facts about the incident
- Accident/Police Reports
- Incident Reports
- Photos & Videos (Scene, Damage, Injuries)
- Evidence acquisition documents (Open Records Requests)
- Background checks, defendant research
- **NOT:** General correspondence, legal arguments

### Medical Records
**What belongs:** All medical treatment, billing, and record acquisition
- Clinical Notes/Medical Records
- Medical Bills/Itemized Statements
- Provider-specific HIPAA Authorizations
- Medical Records Requests sent to providers
- Correspondence with providers
- Radiology Reports & Images

### Insurance
**What belongs:** Correspondence with insurance carriers (Liability, UIM/UM, PIP) - NO demands
- Letters of Representation
- Preservation of Evidence Letters
- **Declaration Pages** (Dec Pages)
- **EOBs** (Explanation of Benefits)
- General adjuster correspondence
- Insurance Cards/Policy Documents
- **NOT:** Settlement demands (those go in Negotiation Settlement/)

### Lien
**What belongs:** All lien-related documents
- Lien Notices from providers
- Lien Correspondence
- Lien Resolutions/Agreements
- Medicare/Medicaid lien documents
- Hospital lien notices
- Subrogation notices

### Expenses
**What belongs:** Case costs and expenditures
- Expert witness fees/invoices
- Court filing fees
- Deposition costs
- Investigation expenses
- Medical record retrieval fees
- Any other case-related expenses

### Negotiation Settlement
**What belongs:** All settlement negotiation and finalization documents
- **Settlement Demands** 
- Settlement Offers from defense
- Negotiation correspondence
- **Settlement Agreements**
- **Releases**
- **Settlement Statements**
- Closing documents

### Litigation
**What belongs:** Formal court filings and pleadings
- Complaints
- Answers
- Motions & Orders
- Discovery Requests & Responses
- Notices (Service, Entry, etc.)
- Warning Order Attorney reports

## Naming Convention

**Format:**
```
YYYY-MM-DD - {Client Name} - {Category} - {Originator} - {Description}.ext
```

### Field Rules

| Field | Definition | Examples |
|-------|------------|----------|
| **YYYY-MM-DD** | The relevant date (see Dating Protocol below) | 2024-03-15 |
| **Client Name** | First Last (must match Project Name) | Abby Sitgraves |
| **Category** | One of the 8 Buckets | Medical Record, Investigation, Litigation, Lien, Negotiation Settlement |
| **Originator** | Who created/sent the document | Jewish Hospital, State Farm, Plaintiff |
| **Description** | Brief, specific summary | ER Visit Summary, Settlement Demand, Lien Notice |

### Originator Rules

- **Medical:** Facility Name (e.g., "Jewish Hospital", "UofL Physicians")
  - **Do NOT use individual doctor names** unless solo practice
- **Insurance:** Carrier Name (e.g., "State Farm")
- **Litigation:** "Plaintiff" or "Defendant" (or specific defendant if multiple)
- **Internal:** "The Whaley Law Firm"

### Dating Protocol

The date field depends on document type:

| Document Type | Date Rule | Logic |
|---------------|-----------|-------|
| **Medical Records (Clinical)** | Date of Visit | Use date patient was seen. If multiple dates, use **First Visit Date**. |
| **Medical Bills** | Date of Visit | Same as records. Match the service date. |
| **Letters/Requests/Auths** | Date of Letter | Date the document was written/signed. |
| **Litigation (Pleadings)** | Date Filed | Timestamp stamped by the court. |
| **Photos/Evidence** | Date of Incident | (Or date taken, if significantly later). |

## Duplicate Management

**Rule of Completeness:** Always keep the most complete version.

Examples:
- Draft summary vs Final summary → Keep Final, delete Draft
- Original Records vs Certified Records (same visit) → Keep Certified, delete Original

**Exception:** Defense-produced duplicates are acceptable if clearly labeled (Originator = Defendant).

## Execution Workflow

**CRITICAL: This skill requires delegating work to sub-agents. DO NOT attempt to do all the work yourself.**

### Phase 1: Inventory (Delegate to Sub-Agent)

Spawn a general-purpose sub-agent with these instructions:

```
Task: Create complete inventory of all files in [case directory]

Instructions:
1. List ALL files recursively, including subdirectories
2. For each file, note:
   - Current filename
   - Current location (path)
   - File type/extension
   - **For PDFs:** Check if companion .md file exists (same name, .md extension)
3. Save inventory to /Reports/file_inventory.md

Format:
| Path | Type | Has .md? |
|------|------|----------|
| /root/doc1.pdf | PDF | YES |
| /root/doc1.md | MD | N/A |
| /root/doc2.pdf | PDF | NO |
```

### Phase 2: Analysis & Mapping (Delegate to Sub-Agent)

**CRITICAL: You MUST read each file individually to determine proper naming. NO regex patterns, NO filename guessing.**

Review the inventory and create a renaming/reorganization map:

1. **Categorize:** Determine which of the 8 buckets each file belongs to BY READING THE FILE CONTENT
2. **Extract metadata:** Identify Date, Originator, Description from file contents BY READING THE FILE
3. **Generate new filename:** Apply naming convention based on actual content
4. **Flag ambiguous files:** Mark files needing human review

**How to analyze files:**

**IMPORTANT: Most PDFs should already have companion .md files from the batch import process.**

- **For PDFs with .md files:** Read the markdown file directly using `read_file` tool
  - Check if `document.md` exists alongside `document.pdf`
  - Markdown files contain extracted text + metadata + tables
  - Much faster than processing PDF
  - Example: `read_file("/case/documents/document.md")`

- **For PDFs without .md files:** Use `/Tools/read_pdf.py` to extract text
  - Usage: `python3 /Tools/read_pdf.py /path/to/file.pdf`
  - This will create the .md file automatically
  - DO NOT create your own PDF extraction script
  - This tool handles multi-page PDFs with error recovery

- **For text files:** Use `read_file` tool

- Look at headers, letterhead, dates, parties mentioned
- Determine category based on what the document actually IS, not what the filename suggests

**Reading Example (Markdown Preferred):**
```bash
# First, check if markdown exists
ls /case/documents/mystery-file.md

# If it exists, read the markdown (FAST)
read_file("/case/documents/mystery-file.md")

# If NOT, process the PDF (creates .md automatically)
python3 /Tools/read_pdf.py /case/documents/mystery-file.pdf
```

Create mapping document at `/Reports/file_reorganization_map.md` with format:

```markdown
| Current Path | Has .md? | Target Bucket | New Filename | Notes |
|--------------|----------|---------------|--------------|-------|
| /root/doc1.pdf | YES | Medical Records | 2024-03-15 - John Doe - Medical Record - Jewish Hospital - ER Visit.pdf | Both .pdf and .md will be renamed |
| /root/doc2.pdf | NO | Investigation | 2024-03-10 - John Doe - Investigation - Police - Accident Report.pdf | Only .pdf (no markdown) |
| /root/unclear.pdf | YES | [REVIEW NEEDED] | - | Cannot determine category from content |
```

**Note:** The "Has .md?" column tracks whether a companion markdown file exists. The bash script will rename both files together when .md exists.

### Phase 3: User Review

Present the mapping to the user and ask for:
1. Confirmation of ambiguous file categorizations
2. Approval to proceed with reorganization
3. Handling instructions for flagged files

### Phase 4: Execution (Generate and Execute Bash Script)

**CRITICAL: Do NOT execute file operations one-by-one. Generate a bash script instead.**

Spawn a general-purpose sub-agent with these instructions:

```
Task: Generate and execute bash script for file reorganization

Instructions:
1. Read the approved mapping from /Reports/file_reorganization_map.md
2. Use the template at /workspace/Skills/case-file-organization/file_reorganization_template.sh
3. Generate a complete bash script that:
   - Creates the 8-bucket directory structure
   - Contains one `mv` command per file to reorganize
   - **IMPORTANT:** For each PDF, also rename its companion .md file with the same new name
   - Use `[ -f "file.md" ] && mv ...` to safely rename .md files (skips if doesn't exist)
   - Groups commands by bucket (Case Information, Client, Investigation, Medical Records, Insurance, Lien, Expenses, Negotiation Settlement, Litigation)
   - Includes rm commands for approved duplicates (BOTH .pdf and .md)
   - Adds echo statements for progress reporting
4. Save script to /Tools/reorganize_{case_name}.sh
5. Make script executable: chmod +x /Tools/reorganize_{case_name}.sh
6. Execute the script: bash /Tools/reorganize_{case_name}.sh
7. Log all output to /Reports/reorganization_log.md

BASH SCRIPT FORMAT:
#!/bin/bash
cd "/absolute/path/to/case/directory"

mkdir -p "Case Information" "Client" "Investigation" "Medical Records" "Insurance" "Lien" "Expenses" "Negotiation Settlement" "Litigation"

# CASE INFORMATION (summaries only, NO original documents)
mv "case-summary.pdf" "Case Information/case-summary.pdf"

# CLIENT FILES
# IMPORTANT: Rename BOTH the PDF and its companion .md file together
mv "old-file-1.pdf" "Client/YYYY-MM-DD - Client Name - Client - Originator - Description.pdf"
[ -f "old-file-1.md" ] && mv "old-file-1.md" "Client/YYYY-MM-DD - Client Name - Client - Originator - Description.md"

mv "old-file-2.pdf" "Client/YYYY-MM-DD - Client Name - Client - Originator - Description.pdf"
[ -f "old-file-2.md" ] && mv "old-file-2.md" "Client/YYYY-MM-DD - Client Name - Client - Originator - Description.md"

# INVESTIGATION FILES
mv "old-file-3.pdf" "Investigation/YYYY-MM-DD - Client Name - Investigation - Originator - Description.pdf"
[ -f "old-file-3.md" ] && mv "old-file-3.md" "Investigation/YYYY-MM-DD - Client Name - Investigation - Originator - Description.md"

# MEDICAL RECORDS
mv "old-file-4.pdf" "Medical Records/YYYY-MM-DD - Client Name - Medical Record - Originator - Description.pdf"
[ -f "old-file-4.md" ] && mv "old-file-4.md" "Medical Records/YYYY-MM-DD - Client Name - Medical Record - Originator - Description.md"

# INSURANCE (NO demands)
mv "old-file-5.pdf" "Insurance/YYYY-MM-DD - Client Name - Insurance - Originator - Description.pdf"
[ -f "old-file-5.md" ] && mv "old-file-5.md" "Insurance/YYYY-MM-DD - Client Name - Insurance - Originator - Description.md"

# LIEN
mv "old-file-6.pdf" "Lien/YYYY-MM-DD - Client Name - Lien - Originator - Description.pdf"
[ -f "old-file-6.md" ] && mv "old-file-6.md" "Lien/YYYY-MM-DD - Client Name - Lien - Originator - Description.md"

# EXPENSES
mv "old-file-7.pdf" "Expenses/YYYY-MM-DD - Client Name - Expense - Originator - Description.pdf"
[ -f "old-file-7.md" ] && mv "old-file-7.md" "Expenses/YYYY-MM-DD - Client Name - Expense - Originator - Description.md"

# NEGOTIATION SETTLEMENT (demands, offers, settlements, releases)
mv "old-file-8.pdf" "Negotiation Settlement/YYYY-MM-DD - Client Name - Negotiation Settlement - Originator - Description.pdf"
[ -f "old-file-8.md" ] && mv "old-file-8.md" "Negotiation Settlement/YYYY-MM-DD - Client Name - Negotiation Settlement - Originator - Description.md"

# LITIGATION
mv "old-file-9.pdf" "Litigation/YYYY-MM-DD - Client Name - Litigation - Originator - Description.pdf"
[ -f "old-file-9.md" ] && mv "old-file-9.md" "Litigation/YYYY-MM-DD - Client Name - Litigation - Originator - Description.md"

# DELETE DUPLICATES (if approved) - BOTH PDF and MD
rm "duplicate-file.pdf"
[ -f "duplicate-file.md" ] && rm "duplicate-file.md"

echo "Reorganization complete!"

# EXPLANATION:
# [ -f "file.md" ] && mv ...
# This checks if the .md file exists before trying to move it.
# If the .md doesn't exist, it silently skips (no error).
# This ensures PDF and MD always have matching names.

WHY BASH SCRIPT:
- Executes all moves in one operation (much faster)
- Easy to review before execution
- Can be saved for documentation/audit trail
- Easy to undo if needed (just save original state)
```

### Phase 5: Verification & Report (Delegate to Sub-Agent)

Spawn a general-purpose sub-agent with these instructions:

```
Task: Verify reorganization and create summary report

Instructions:
1. List all files in each of the 5 bucket directories
2. Verify no files remain in root case folder
3. Check that all filenames follow the standard convention
4. Count files in each bucket
5. Create summary report at /Reports/reorganization_summary.md

Report format:
- Total files reorganized
- Files per bucket
- Any remaining issues
- List of files still in root (if any)
```

## Common Mistakes

| Mistake | Fix |
|---------|-----|
| Using doctor names instead of facility | Use facility name unless solo practice |
| Wrong date (using received date instead of service date) | Always use service date for medical records |
| Files still in root folder | Every file MUST be in one of the 5 buckets |
| Attempting to do all work yourself | ALWAYS delegate to sub-agents |
| Not getting user approval before execution | Always present mapping and get approval |
| Deleting files without user confirmation | Never delete without explicit approval |
| **Using regex/patterns instead of reading files** | **MUST read each file to determine proper category and naming - NO shortcuts** |
| **Executing mv commands one-by-one** | **Generate single bash script with all mv commands, then execute once** |
| **Not using bash script template** | **Always use the template at file_reorganization_template.sh** |
| **Creating duplicate PDF extraction tools** | **Use existing `/Tools/read_pdf.py` - DO NOT write your own** |

## Quick Reference: Categorization Decision Tree

```
Is it a case summary/timeline? (NOT an original document)
├─ YES → Case Information/
└─ NO → Is it intake, contract, or firm-client communication?
    ├─ YES → Client/
    └─ NO → Is it hard evidence or photos of the incident?
        ├─ YES → Investigation/
        └─ NO → Is it medical treatment or billing?
            ├─ YES → Medical Records/
            └─ NO → Is it dec pages, EOBs, or insurance correspondence? (NOT demands)
                ├─ YES → Insurance/
                └─ NO → Is it a lien notice or lien correspondence?
                    ├─ YES → Lien/
                    └─ NO → Is it a case expense or cost?
                        ├─ YES → Expenses/
                        └─ NO → Is it a demand, offer, settlement doc, or release?
                            ├─ YES → Negotiation Settlement/
                            └─ NO → Is it a court filing?
                                ├─ YES → Litigation/
                                └─ NO → Flag for review
```

## Sub-Agent Delegation Strategy

**Why delegate:** File reorganization involves repetitive operations that can be parallelized or handled by specialized agents.

**When to spawn sub-agents:**
1. **Inventory phase:** Sub-agent lists all files
2. **Execution phase:** Sub-agent performs moves/renames
3. **Verification phase:** Sub-agent validates results

**Main agent responsibilities:**
- Strategic analysis (categorization, naming decisions)
- Creating the reorganization map
- User communication and approval
- Oversight of sub-agents

**Sub-agent responsibilities:**
- Tactical execution (file operations)
- Detailed reporting (logs, inventories)
- Error handling and recovery

## Example Filenames

**Before:**
- `doc1.pdf`
- `jewish hosp 3-15.pdf`
- `complaint.docx`

**After:**
- `2024-03-15 - John Doe - Medical Record - Jewish Hospital - ER Visit Summary.pdf`
- `2024-03-15 - John Doe - Medical Record - Jewish Hospital - Radiology Report.pdf`
- `2024-04-01 - John Doe - Litigation - Plaintiff - Complaint for Negligence.pdf`

## Real-World Impact

**Benefits:**
- Instant file retrieval (standardized naming)
- Reduced misfiling errors (clear categorization rules)
- Vector database ready (consistent structure)
- Scalable across unlimited cases (same 8-bucket system)
- Parallelizable (sub-agents handle bulk operations)
- Expanded organization (Lien, Expenses, Negotiation Settlement folders)
- Case Information reference folder for summaries

**Time savings:** 15-30 minutes per case vs manual organization
