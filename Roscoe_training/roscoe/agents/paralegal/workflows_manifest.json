{
  "version": "1.0.0",
  "description": "Workflow definitions mapped to phases. Each workflow references skills and defines completion criteria.",
  "workflows": [
    {
      "id": "case_initialization",
      "name": "Case Initialization",
      "phase": "onboarding",
      "description": "Initialize workflow state for a new case. Creates workflow_state.json and sets initial phase.",
      "file": "workflows/phase_0_onboarding/case_initialization.md",
      "triggers": ["new case", "new client", "initialize case", "start case"],
      "is_meta_workflow": true,
      "auto_trigger_on_missing_state": true,
      "required_skills": ["fact-investigation"],
      "completion_criteria": ["workflow_state_created", "initial_phase_set"],
      "outputs": ["workflow_state.json"],
      "contributes_to_exit": ["workflow_state_initialized", "case_type_determined"]
    },
    {
      "id": "transfer_case_assessment",
      "name": "Transfer Case Assessment",
      "phase": "onboarding",
      "description": "Assess a case transferred from another attorney. Determine current phase and outstanding items.",
      "file": "workflows/phase_0_onboarding/transfer_case_assessment.md",
      "triggers": ["transfer case", "case from another attorney", "inherited case", "taking over case"],
      "is_meta_workflow": true,
      "required_skills": ["fact-investigation", "document-organization"],
      "completion_criteria": ["prior_work_assessed", "current_phase_determined", "gaps_identified"],
      "outputs": ["workflow_state.json", "transfer_assessment.md"],
      "contributes_to_exit": ["workflow_state_initialized", "case_type_determined"]
    },
    {
      "id": "client_intake_screening",
      "name": "Client Intake & Screening",
      "phase": "intake",
      "description": "Initial client consultation, conflicts check, and case viability assessment.",
      "file": "workflows/phase_1_intake/client_intake_screening.md",
      "triggers": ["new client", "intake", "consultation", "potential client"],
      "required_skills": ["fact-investigation", "conflicts-check", "client-communication"],
      "completion_criteria": ["intake_form_complete", "conflicts_cleared", "case_accepted_or_declined"],
      "outputs": ["intake_form.json", "conflicts_check.json"],
      "contributes_to_exit": ["client_documents_signed"]
    },
    {
      "id": "initial_documentation",
      "name": "Initial Documentation",
      "phase": "intake",
      "description": "Obtain all initial client signatures: contracts, HIPAA authorizations, and other required documents.",
      "file": "workflows/phase_1_intake/initial_documentation.md",
      "triggers": ["get signatures", "client documents", "HIPAA", "contracts"],
      "required_skills": ["document-organization", "client-communication"],
      "completion_criteria": ["contracts_signed", "hipaa_signed", "all_authorizations_obtained"],
      "outputs": ["signed_documents/"],
      "contributes_to_exit": ["client_documents_signed", "hipaa_authorizations_obtained", "contracts_signed"]
    },
    {
      "id": "accident_investigation",
      "name": "Accident Investigation",
      "phase": "intake",
      "description": "Gather accident details, obtain reports, collect scene evidence.",
      "file": "workflows/phase_1_intake/accident_investigation.md",
      "triggers": ["accident report", "scene investigation", "accident details", "police report"],
      "required_skills": ["fact-investigation", "evidence-preservation"],
      "completion_criteria": ["accident_report_obtained", "scene_photos_collected", "witness_info_gathered"],
      "outputs": ["accident_report.pdf", "scene_photos/", "witness_list.json"],
      "contributes_to_exit": ["accident_report_received", "scene_information_collected"]
    },
    {
      "id": "insurance_identification_setup",
      "name": "Insurance Identification & Setup",
      "phase": "intake",
      "description": "Identify all insurance coverage, open claims, send letters of representation.",
      "file": "workflows/phase_1_intake/insurance_identification_setup.md",
      "triggers": ["insurance", "coverage", "open claim", "letter of rep", "PIP", "BI"],
      "required_skills": ["insurance-coverage-analysis", "liable-party-identification"],
      "completion_criteria": ["all_coverage_identified", "pip_claim_opened", "bi_claim_opened", "lor_acknowledged"],
      "outputs": ["insurance.json", "letters_of_rep/"],
      "contributes_to_exit": ["insurance_companies_identified", "pip_claim_opened", "bi_claim_opened", "letters_of_rep_acknowledged"]
    },
    {
      "id": "file_setup_checklist",
      "name": "File Setup Checklist",
      "phase": "intake",
      "description": "Ensure all intake items are complete and file is properly organized.",
      "file": "workflows/phase_1_intake/file_setup_checklist.md",
      "triggers": ["file setup", "checklist", "intake complete"],
      "required_skills": ["document-organization"],
      "completion_criteria": ["all_intake_items_complete", "file_organized"],
      "outputs": ["intake_checklist.json"],
      "contributes_to_exit": ["initial_providers_documented"]
    },
    {
      "id": "insurance_correspondence",
      "name": "Insurance Correspondence",
      "phase": "treatment",
      "description": "Maintain regular correspondence with insurance companies during treatment phase.",
      "file": "workflows/phase_2_treatment/insurance_correspondence.md",
      "triggers": ["insurance update", "adjuster contact", "claim status"],
      "required_skills": ["insurance-correspondence", "client-communication"],
      "completion_criteria": ["correspondence_current", "claim_status_documented"],
      "outputs": ["correspondence_log.json"],
      "contributes_to_exit": []
    },
    {
      "id": "lien_identification",
      "name": "Lien Identification",
      "phase": "treatment",
      "description": "Identify and document all potential liens (health insurance, Medicare, Medicaid, etc.).",
      "file": "workflows/phase_2_treatment/lien_identification.md",
      "triggers": ["lien", "health insurance", "Medicare", "Medicaid", "subrogation"],
      "required_skills": ["lien-classification", "lien-identification"],
      "completion_criteria": ["all_liens_identified", "lien_notices_sent"],
      "outputs": ["liens.json"],
      "contributes_to_exit": ["liens_identified"]
    },
    {
      "id": "client_status_check",
      "name": "Client Status Check",
      "phase": "treatment",
      "description": "Regular check-ins with client about treatment status and needs.",
      "file": "workflows/phase_2_treatment/client_status_check.md",
      "triggers": ["client check", "treatment status", "how is client"],
      "required_skills": ["client-communication"],
      "completion_criteria": ["status_documented", "needs_assessed"],
      "outputs": ["client_notes.md"],
      "contributes_to_exit": ["treatment_complete"]
    },
    {
      "id": "medical_records_request",
      "name": "Medical Records Request",
      "phase": "treatment",
      "description": "Request and track medical records and bills from all providers.",
      "file": "workflows/phase_2_treatment/medical_records_request.md",
      "triggers": ["records request", "medical records", "bills", "provider records"],
      "required_skills": ["medical-record-request", "document-organization"],
      "completion_criteria": ["all_requests_sent", "tracking_current"],
      "outputs": ["medical_providers.json", "Records/Medical/"],
      "contributes_to_exit": ["all_records_requested", "all_records_received", "all_bills_received"]
    },
    {
      "id": "ongoing_medical_chronology",
      "name": "Ongoing Medical Chronology",
      "phase": "treatment",
      "description": "Maintain running medical chronology as records come in.",
      "file": "workflows/phase_2_treatment/ongoing_medical_chronology.md",
      "triggers": ["chronology", "update chronology", "new records"],
      "required_skills": ["medical-chronology-generation", "medical-record-extraction"],
      "completion_criteria": ["chronology_updated"],
      "outputs": ["Reports/chronology_draft.json"],
      "contributes_to_exit": ["chronology_current"]
    },
    {
      "id": "final_records_collection",
      "name": "Final Records Collection",
      "phase": "demand",
      "description": "Ensure all final medical records and bills are collected before demand.",
      "file": "workflows/phase_3_demand/final_records_collection.md",
      "triggers": ["final records", "complete records", "demand prep"],
      "required_skills": ["medical-record-request", "document-organization"],
      "completion_criteria": ["all_final_records_received", "all_final_bills_received"],
      "outputs": ["Records/Medical/"],
      "contributes_to_exit": ["final_records_collected"]
    },
    {
      "id": "medical_chronology_completion",
      "name": "Medical Chronology Completion",
      "phase": "demand",
      "description": "Finalize comprehensive medical chronology for demand package.",
      "file": "workflows/phase_3_demand/medical_chronology_completion.md",
      "triggers": ["complete chronology", "finalize chronology", "chronology for demand"],
      "required_skills": ["medical-chronology-generation", "red-flag-identification", "causation-analysis"],
      "completion_criteria": ["chronology_complete", "reviewed_for_accuracy"],
      "outputs": ["Reports/Medical_Chronology.pdf", "Reports/chronology_data.json"],
      "contributes_to_exit": ["medical_chronology_complete"]
    },
    {
      "id": "damages_compilation",
      "name": "Damages Compilation",
      "phase": "demand",
      "description": "Compile all damages: medical expenses, wage loss, out-of-pocket expenses.",
      "file": "workflows/phase_3_demand/damages_compilation.md",
      "triggers": ["damages", "specials", "wage loss", "expenses"],
      "required_skills": ["damages-calculation", "document-organization"],
      "completion_criteria": ["medical_specials_calculated", "wage_loss_documented", "expenses_documented"],
      "outputs": ["damages_summary.json"],
      "contributes_to_exit": ["damages_compiled"]
    },
    {
      "id": "expert_evaluation",
      "name": "Expert Evaluation",
      "phase": "demand",
      "description": "Determine if expert reports are needed and obtain them.",
      "file": "workflows/phase_3_demand/expert_evaluation.md",
      "triggers": ["expert", "IME", "expert report", "medical expert"],
      "required_skills": ["expert-witness-evaluation"],
      "completion_criteria": ["expert_need_assessed", "reports_obtained_if_needed"],
      "outputs": ["expert_reports/"],
      "contributes_to_exit": ["expert_reports_obtained"]
    },
    {
      "id": "demand_preparation",
      "name": "Demand Preparation",
      "phase": "demand",
      "description": "Draft, review, and send demand letter with supporting documentation.",
      "file": "workflows/phase_3_demand/demand_preparation.md",
      "triggers": ["demand letter", "send demand", "demand package"],
      "required_skills": ["demand-letter-drafting", "document-organization"],
      "completion_criteria": ["demand_drafted", "demand_reviewed", "demand_sent"],
      "outputs": ["Correspondence/demand_letter.pdf", "Correspondence/demand_package/"],
      "contributes_to_exit": ["demand_prepared", "demand_sent"]
    },
    {
      "id": "offer_evaluation",
      "name": "Offer Evaluation",
      "phase": "negotiation",
      "description": "Evaluate settlement offers and prepare counter-offers.",
      "file": "workflows/phase_4_negotiation/offer_evaluation.md",
      "triggers": ["offer", "settlement offer", "evaluate offer", "counter"],
      "required_skills": ["offer-evaluation", "negotiation-strategy"],
      "completion_criteria": ["offer_documented", "analysis_complete", "recommendation_made"],
      "outputs": ["offer_analysis.json"],
      "contributes_to_exit": ["offers_evaluated", "client_advised"]
    },
    {
      "id": "client_communication_negotiation",
      "name": "Client Communication (Negotiation)",
      "phase": "negotiation",
      "description": "Keep client informed of offers and get authority for settlement.",
      "file": "workflows/phase_4_negotiation/client_communication_negotiation.md",
      "triggers": ["tell client about offer", "get authority", "client decision"],
      "required_skills": ["client-communication", "settlement-analysis"],
      "completion_criteria": ["client_informed", "authority_obtained"],
      "outputs": ["client_communications/"],
      "contributes_to_exit": ["client_advised"]
    },
    {
      "id": "negotiation_strategy",
      "name": "Negotiation Strategy",
      "phase": "negotiation",
      "description": "Develop and execute negotiation strategy.",
      "file": "workflows/phase_4_negotiation/negotiation_strategy.md",
      "triggers": ["negotiation strategy", "how to negotiate", "counter strategy"],
      "required_skills": ["negotiation-strategy"],
      "completion_criteria": ["strategy_developed", "strategy_executed"],
      "outputs": ["negotiation_notes.md"],
      "contributes_to_exit": ["settlement_reached_or_litigation_elected"]
    },
    {
      "id": "settlement_confirmation",
      "name": "Settlement Confirmation",
      "phase": "settlement",
      "description": "Confirm settlement terms and obtain written agreement.",
      "file": "workflows/phase_5_settlement/settlement_confirmation.md",
      "triggers": ["confirm settlement", "settlement agreement", "settlement terms"],
      "required_skills": ["settlement-disbursement"],
      "completion_criteria": ["terms_confirmed", "agreement_signed"],
      "outputs": ["settlement_agreement.pdf"],
      "contributes_to_exit": ["settlement_confirmed"]
    },
    {
      "id": "lien_negotiation",
      "name": "Lien Negotiation",
      "phase": "settlement",
      "description": "Negotiate reduction of liens to maximize client recovery.",
      "file": "workflows/phase_5_settlement/lien_negotiation.md",
      "triggers": ["negotiate lien", "reduce lien", "lien reduction"],
      "required_skills": ["lien-negotiation"],
      "completion_criteria": ["all_liens_negotiated", "reductions_documented"],
      "outputs": ["lien_resolutions/"],
      "contributes_to_exit": ["liens_negotiated"]
    },
    {
      "id": "provider_payment",
      "name": "Provider Payment",
      "phase": "settlement",
      "description": "Pay medical providers from settlement funds.",
      "file": "workflows/phase_5_settlement/provider_payment.md",
      "triggers": ["pay providers", "provider payment", "disbursement"],
      "required_skills": ["settlement-disbursement"],
      "completion_criteria": ["all_providers_paid", "payments_documented"],
      "outputs": ["payment_records/"],
      "contributes_to_exit": ["providers_paid"]
    },
    {
      "id": "funds_distribution",
      "name": "Funds Distribution",
      "phase": "settlement",
      "description": "Distribute remaining funds to client.",
      "file": "workflows/phase_5_settlement/funds_distribution.md",
      "triggers": ["distribute funds", "client check", "final payment"],
      "required_skills": ["settlement-disbursement", "client-communication"],
      "completion_criteria": ["disbursement_prepared", "client_paid"],
      "outputs": ["disbursement_sheet.pdf"],
      "contributes_to_exit": ["client_funds_distributed"]
    },
    {
      "id": "case_resolution",
      "name": "Case Resolution",
      "phase": "settlement",
      "description": "Close case file and complete final documentation.",
      "file": "workflows/phase_5_settlement/case_resolution.md",
      "triggers": ["close case", "case closed", "final"],
      "required_skills": ["document-organization"],
      "completion_criteria": ["file_closed", "final_report_generated"],
      "outputs": ["case_closing_report.pdf"],
      "contributes_to_exit": ["case_closed"]
    },
    {
      "id": "complaint_drafting",
      "name": "Complaint Drafting",
      "phase": "litigation",
      "sub_phase": "complaint_service",
      "description": "Draft complaint for filing.",
      "file": "workflows/phase_6_litigation/complaint_drafting.md",
      "triggers": ["draft complaint", "file lawsuit", "complaint"],
      "required_skills": ["complaint-drafting"],
      "completion_criteria": ["complaint_drafted", "complaint_reviewed"],
      "outputs": ["Litigation/complaint.pdf"],
      "contributes_to_exit": ["complaint_filed"]
    },
    {
      "id": "service_of_process",
      "name": "Service of Process",
      "phase": "litigation",
      "sub_phase": "complaint_service",
      "description": "Serve complaint on defendants.",
      "file": "workflows/phase_6_litigation/service_of_process.md",
      "triggers": ["serve defendant", "service", "process server"],
      "required_skills": ["litigation-procedure"],
      "completion_criteria": ["defendants_served", "proof_of_service_filed"],
      "outputs": ["Litigation/proof_of_service.pdf"],
      "contributes_to_exit": ["complaint_filed"]
    },
    {
      "id": "written_discovery",
      "name": "Written Discovery",
      "phase": "litigation",
      "sub_phase": "discovery",
      "description": "Draft and respond to interrogatories and requests for production.",
      "file": "workflows/phase_6_litigation/written_discovery.md",
      "triggers": ["interrogatories", "discovery", "requests for production", "RFP", "ROG"],
      "required_skills": ["discovery-drafting", "tar-protocol-proposal"],
      "completion_criteria": ["discovery_propounded", "responses_received", "our_responses_served"],
      "outputs": ["Litigation/Discovery/"],
      "contributes_to_exit": ["discovery_complete"]
    },
    {
      "id": "document_production",
      "name": "Document Production",
      "phase": "litigation",
      "sub_phase": "discovery",
      "description": "Produce and review documents in discovery.",
      "file": "workflows/phase_6_litigation/document_production.md",
      "triggers": ["document production", "produce documents", "review production"],
      "required_skills": ["document-organization", "tar-protocol-proposal"],
      "completion_criteria": ["documents_produced", "production_reviewed"],
      "outputs": ["Litigation/Productions/"],
      "contributes_to_exit": ["discovery_complete"]
    },
    {
      "id": "client_deposition_prep",
      "name": "Client Deposition Preparation",
      "phase": "litigation",
      "sub_phase": "depositions",
      "description": "Prepare client for their deposition.",
      "file": "workflows/phase_6_litigation/client_deposition_prep.md",
      "triggers": ["client deposition", "prepare client", "deposition prep"],
      "required_skills": ["deposition-preparation", "client-communication"],
      "completion_criteria": ["client_prepared", "documents_reviewed", "practice_completed"],
      "outputs": ["deposition_prep_notes.md"],
      "contributes_to_exit": ["depositions_complete"]
    },
    {
      "id": "defendant_deposition",
      "name": "Defendant Deposition",
      "phase": "litigation",
      "sub_phase": "depositions",
      "description": "Take deposition of defendant.",
      "file": "workflows/phase_6_litigation/defendant_deposition.md",
      "triggers": ["defendant deposition", "depose defendant"],
      "required_skills": ["deposition-preparation", "cross-examination-fundamentals"],
      "completion_criteria": ["outline_prepared", "deposition_taken", "transcript_reviewed"],
      "outputs": ["Litigation/Depositions/defendant/"],
      "contributes_to_exit": ["depositions_complete"]
    },
    {
      "id": "expert_deposition",
      "name": "Expert Deposition",
      "phase": "litigation",
      "sub_phase": "depositions",
      "description": "Take or defend expert witness depositions.",
      "file": "workflows/phase_6_litigation/expert_deposition.md",
      "triggers": ["expert deposition", "depose expert", "IME deposition"],
      "required_skills": ["deposition-preparation", "dme-ime-cross-examination", "expert-witness-evaluation"],
      "completion_criteria": ["expert_research_complete", "outline_prepared", "deposition_taken"],
      "outputs": ["Litigation/Depositions/experts/"],
      "contributes_to_exit": ["depositions_complete"]
    },
    {
      "id": "30b6_deposition",
      "name": "30(b)(6) Deposition",
      "phase": "litigation",
      "sub_phase": "depositions",
      "description": "Take corporate representative deposition.",
      "file": "workflows/phase_6_litigation/30b6_deposition.md",
      "triggers": ["30b6", "corporate deposition", "corporate representative"],
      "required_skills": ["30b6-topic-drafting", "deposition-preparation"],
      "completion_criteria": ["topics_drafted", "notice_served", "deposition_taken"],
      "outputs": ["Litigation/Depositions/30b6/"],
      "contributes_to_exit": ["depositions_complete"]
    },
    {
      "id": "dme_deposition",
      "name": "DME/IME Doctor Deposition",
      "phase": "litigation",
      "sub_phase": "depositions",
      "description": "Depose defense medical examiner.",
      "file": "workflows/phase_6_litigation/dme_deposition.md",
      "triggers": ["DME deposition", "IME doctor", "defense doctor"],
      "required_skills": ["dme-ime-cross-examination", "deposition-preparation"],
      "completion_criteria": ["doctor_researched", "outline_prepared", "deposition_taken"],
      "outputs": ["Litigation/Depositions/dme/"],
      "contributes_to_exit": ["depositions_complete"]
    },
    {
      "id": "mediation_preparation",
      "name": "Mediation Preparation",
      "phase": "litigation",
      "sub_phase": "mediation",
      "description": "Prepare for mediation session.",
      "file": "workflows/phase_6_litigation/mediation_preparation.md",
      "triggers": ["mediation", "prepare for mediation", "mediation brief"],
      "required_skills": ["mediation-preparation", "negotiation-strategy"],
      "completion_criteria": ["brief_prepared", "client_prepared", "materials_assembled"],
      "outputs": ["Litigation/Mediation/"],
      "contributes_to_exit": ["mediation_complete"]
    },
    {
      "id": "expert_coordination",
      "name": "Expert Coordination",
      "phase": "litigation",
      "sub_phase": "experts",
      "description": "Coordinate with expert witnesses for litigation.",
      "file": "workflows/phase_6_litigation/expert_coordination.md",
      "triggers": ["expert witness", "retain expert", "expert report"],
      "required_skills": ["expert-witness-evaluation"],
      "completion_criteria": ["experts_retained", "reports_obtained", "disclosures_served"],
      "outputs": ["Litigation/Experts/"],
      "contributes_to_exit": []
    },
    {
      "id": "trial_preparation",
      "name": "Trial Preparation",
      "phase": "litigation",
      "sub_phase": "trial_prep",
      "description": "Comprehensive trial preparation including exhibits, witnesses, and trial notebook.",
      "file": "workflows/phase_6_litigation/trial_preparation.md",
      "triggers": ["trial prep", "prepare for trial", "trial notebook"],
      "required_skills": ["trial-preparation", "exhibit-preparation", "witness-preparation"],
      "completion_criteria": ["exhibits_prepared", "witnesses_prepared", "trial_notebook_complete"],
      "outputs": ["Litigation/Trial/"],
      "contributes_to_exit": ["case_resolved"]
    }
  ]
}

